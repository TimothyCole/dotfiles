# Social Blade API
export SOCIALBLADE_AUTH="(redacted)"
export SOCIALBLADE_KEY="(redacted)"
export SOCIALBLADE_API="(redacted)"
export SOCIALBLADE_EMAIL="tim@socialblade.com"
export SOCIALBLADE_TOKEN="(redacted)"
export SOCIAL_BLADE_DISCORD_TOKEN="Bot (redacted)"

# Twitch API
export TWITCH_OAUTH="(redacted)"
export TWITCH_SOCIALBLADE="(redacted)"

# Spotify API
export SPOTIFY_CLIENT_ID="(redacted)"
export SPOTIFY_CLIENT_SECRET="(redacted)"

# Notify API
export NOTIFY_KEY="(redacted)"
export TOGGL_KEY="(redacted)"
export NOTIFY_EPOCH="1524700800000"

notify_snow () {
  epoch=$(($1 >> 23 + $NOTIFY_EPOCH))
  date -r $(($epoch/1000))
}

alias proxy-up='ssh -fNTM -L 1234:(redacted):5432 stage_proxy'
alias proxy-status='ssh -TO check stage_proxy'
alias proxy-down='ssh -TO exit stage_proxy'

alias ngauth='gcloud container clusters get-credentials application --zone us-west1-a'
alias nglog='kubectl logs service/realtime -c realtime -f'
alias ngforward='kubectl port-forward services/realtime 8081:8080'

alias icloud="~/Library/Mobile\ Documents/com~apple~CloudDocs/"

alias gw="reflex -R '^vendor/' -r '\.go$' -s go run *.go"

export FZF_DEFAULT_COMMAND='fd --type f --hidden --follow --exclude .git --exclude node_modules --exclude vendor --exclude dist --exclude .parcel-cache --exclude .cache'

alias k="k9s --readonly"

if [ $TERM = 'xterm-kitty' ]; then
  alias kitty="/Applications/kitty.app/Contents/MacOS/kitty"
  "/Applications/kitty.app/Contents/MacOS/kitty" + complete setup zsh | source /dev/stdin
  alias ssh="kitty +kitten ssh"
fi

tun() {
  if [ -z "$2" ]
  then
    sub=$(openssl rand -base64 16 | tr -dc '[:alnum:]\n\r')
  else
    sub=$2
  fi
  ssh -o ServerAliveInterval=60 -R $sub.tun.tim.rip:80:localhost:$1 tun.tim.rip -p 2222
}

gachi() {
  cd ~/Music/gachi/
  youtube-dl --ignore-errors --extract-audio --audio-format mp3 -o "%(title)s.%(ext)s" $1
}

interface() {
  echo $1 | quicktype -l typescript --just-types | pbcopy
}
